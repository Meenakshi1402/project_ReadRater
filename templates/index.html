{% extends "base.html" %}

{% block title %}Catalog – ReadRater{% endblock %}

{% block content %}
  <h1>ReadRater Catalog</h1>

  <form method="GET" action="{{ url_for('index') }}">
    <input
      type="text"
      name="q"
      placeholder="Search by title or author…"
      value="{{ q }}"
    >
    <button type="submit">Search</button>
  </form>

  {% if not books %}
    <p>No books found matching “{{ q }}”.</p>
  {% endif %}

  <ul>
    {% for book in books %}
      <li>
        <h2>
          <a href="{{ url_for('book_detail', book_id=book.id) }}">
            {{ book.title }}
          </a>
        </h2>
        <p>by {{ book.author }}</p>
      </li>
    {% endfor %}
  </ul>
{% endblock %}
